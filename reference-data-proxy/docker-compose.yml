version: "3"
services:

  reference-data-proxy:
    build: .
    image: dtfs/reference-data-proxy
    restart: always
    ports:
      - "5002:5002"
    volumes:
      - ./src:/app/src:ro
    environment:
      - DEBUG=express:*
      - PORT=5002
      - CORS_ORIGIN=http://localhost:5002
      - JWT_SIGNING_KEY
      - JWT_VALIDATING_KEY
      - MULESOFT_API_NUMBER_GENERATOR_KEY
      - MULESOFT_API_NUMBER_GENERATOR_SECRET
      - MULESOFT_API_NUMBER_GENERATOR_URL
      - MULESOFT_API_PARTY_DB_KEY
      - MULESOFT_API_PARTY_DB_SECRET
      - MULESOFT_API_PARTY_DB_URL

    entrypoint: npx nodemon src/index.js

