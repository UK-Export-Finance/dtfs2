const CONSTANTS = require('./constants');
const { ELIGIBILITY_COMPLETED, SUBMISSION_DETAILS } = require('../../../e2e-fixtures');
const dateConstants = require('../../../e2e-fixtures/dateConstants');

const MOCK_DEAL = {
  dealType: CONSTANTS.DEAL_TYPE.BSS_EWCS,
  submissionType: CONSTANTS.DEAL_SUBMISSION_TYPE.AIN,
  bankInternalRefName: 'Mock supply contract ID',
  additionalRefName: 'Mock supply contract name',
  status: 'Submitted',
  previousStatus: 'Submitted',
  bank: {
    id: '123',
    name: 'Barclays Bank',
    emails: [
      'test1@mock.com',
      'test2@mock.com',
    ],
  },
  maker: {
    username: 'JOE',
    firstname: 'Joe',
    surname: 'Bloggs',
    email: 'maker1@ukexportfinance.gov.uk',
  },
  details: {
    bank: 'Mock bank',
    checker: {
      username: 'CHECKER',
      firstname: 'Emilio',
      surname: 'Largo',
    },
    submissionDate: `${dateConstants.twoYearsAgoUnix}000`,
    submissionCount: 1,
  },
  submissionDetails: {
    ...SUBMISSION_DETAILS,
    'indemnifier-name': 'Mock name',
  },
  eligibility: ELIGIBILITY_COMPLETED,
  exporter: {
    companyName: 'Mock company name',
  },
  mockFacilities: [
    {
      type: CONSTANTS.FACILITY_TYPE.BOND,
      bondIssuer: 'Issuer',
      bondType: 'Advance payment guarantee',
      facilityStage: 'Issued',
      hasBeenIssued: true,
      ukefGuaranteeInMonths: '10',
      bondBeneficiary: 'test',
      guaranteeFeePayableByBank: '9.0000',
      value: '12345.00',
      currencySameAsSupplyContractCurrency: 'true',
      riskMarginFee: '10',
      coveredPercentage: '20',
      minimumRiskMarginFee: '30',
      ukefExposure: '2,469.00',
      feeType: 'At maturity',
      dayCountBasis: '365',
      currency: {
        text: 'GBP - UK Sterling',
        id: 'GBP',
      },
      'coverEndDate-day': dateConstants.oneMonthDay,
      'coverEndDate-month': dateConstants.oneMonthMonth,
      'coverEndDate-year': dateConstants.oneMonthYear,
      issuedDate: `${dateConstants.twoYearsAgoUnix}000`,
      requestedCoverStartDate: `${dateConstants.twoYearsAgoUnix}000`,
      name: 'Test-123',
      updatedAt: Date.now(),
    },
    {
      type: CONSTANTS.FACILITY_TYPE.LOAN,
      createdDate: 1610369832226,
      facilityStage: 'Conditional',
      hasBeenIssued: false,
      ukefGuaranteeInMonths: '12',
      name: '5678',
      guaranteeFeePayableByBank: '27.0000',
      updatedAt: Date.now(),
      value: '1234.00',
      currencySameAsSupplyContractCurrency: 'true',
      interestMarginFee: '30',
      coveredPercentage: '20',
      minimumQuarterlyFee: '10',
      ukefExposure: '246.80',
      premiumType: 'At maturity',
      dayCountBasis: '365',
      'issuedDate-day': '25',
      'issuedDate-month': '08',
      'issuedDate-year': '2020',
      'coverEndDate-day': '24',
      'coverEndDate-month': '09',
      'coverEndDate-year': '2020',
      disbursementAmount: '1,234.00',
      issueFacilityDetailsStarted: true,
      nameRequiredForIssuance: true,
      requestedCoverStartDate: 1610369832226.0,
      issuedDate: 1610369832226.0,
      issueFacilityDetailsProvided: true,
      status: 'Acknowledged',
      currency: {
        text: 'GBP - UK Sterling',
        id: 'GBP',
      },
    },
  ],
};

module.exports = MOCK_DEAL;
