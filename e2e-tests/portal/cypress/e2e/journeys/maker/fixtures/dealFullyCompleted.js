const { mandatoryCriteria, ELIGIBILITY_COMPLETED, SUBMISSION_DETAILS } = require('../../../../../../e2e-fixtures');
const dateConstants = require('../../../../../../e2e-fixtures/dateConstants');

const nowDay = (dateConstants.todayDay).toString();
const nowMonth = (dateConstants.todayMonth).toString();
const nowYear = (dateConstants.todayYear).toString();

const nowPlusMonthDay = (dateConstants.oneMonthDay).toString();
const nowPlusMonthMonth = (dateConstants.oneMonthMonth).toString();
const nowPlusMonthYear = (dateConstants.oneMonthYear).toString();

const nowMinusDayDay = (dateConstants.yesterdayDay).toString();
const nowMinusDayMonth = (dateConstants.yesterdayMonth).toString();
const nowMinusDayYear = (dateConstants.yesterdayYear).toString();

const deal = {
  submissionType: 'Automatic Inclusion Notice',
  updatedAt: Date.now(),
  additionalRefName: 'mock name',
  bankInternalRefName: 'mock id',
  status: 'Ready for Checker\'s approval',
  previousStatus: 'Draft',
  comments: [{
    username: 'bananaman',
    timestamp: '1984/12/25 00:00:00:001',
    text: 'Merry Christmas from the 80s',
  }, {
    username: 'supergran',
    timestamp: '1982/12/25 00:00:00:001',
    text: 'Also Merry Christmas from the 80s',
  }],
  mockFacilities: [
    {
      type: 'Bond',
      bondIssuer: 'my issuer',
      bondType: 'Retention bond',
      facilityStage: 'Issued',
      hasBeenIssued: true,
      ukefGuaranteeInMonths: '12',
      'requestedCoverStartDate-day': nowDay,
      'requestedCoverStartDate-month': nowMonth,
      'requestedCoverStartDate-year': nowYear,
      'coverEndDate-day': nowPlusMonthDay,
      'coverEndDate-month': nowPlusMonthMonth,
      'coverEndDate-year': nowPlusMonthYear,
      name: '1234567890',
      bondBeneficiary: 'test',
      value: '1234',
      currencySameAsSupplyContractCurrency: 'false',
      currency: {
        text: 'GBP - UK Sterling',
        id: 'GBP',
      },
      conversionRate: '100',
      'conversionRateDate-day': nowMinusDayDay,
      'conversionRateDate-month': nowMinusDayMonth,
      'conversionRateDate-year': nowMinusDayYear,
      riskMarginFee: '12',
      coveredPercentage: '24',
      minimumRiskMarginFee: '1',
      feeType: 'In advance',
      feeFrequency: 'Quarterly',
      dayCountBasis: '360',
      guaranteeFeePayableByBank: '12.345',
      ukefExposure: '1,234.56',
    },
    {
      type: 'Bond',
      bondIssuer: 'my issuer',
      bondType: 'Retention bond',
      facilityStage: 'Issued',
      hasBeenIssued: true,
      ukefGuaranteeInMonths: '12',
      'requestedCoverStartDate-day': nowDay,
      'requestedCoverStartDate-month': nowMonth,
      'requestedCoverStartDate-year': nowYear,
      'coverEndDate-day': nowPlusMonthDay,
      'coverEndDate-month': nowPlusMonthMonth,
      'coverEndDate-year': nowPlusMonthYear,
      name: '1234567890',
      bondBeneficiary: 'test',
      value: '5678',
      currencySameAsSupplyContractCurrency: 'true',
      currency: {
        text: 'CAD - Canadian Dollars',
        id: 'CAD',
      },
      riskMarginFee: '12',
      coveredPercentage: '24',
      minimumRiskMarginFee: '1',
      feeType: 'In arrear',
      feeFrequency: 'Monthly',
      dayCountBasis: '360',
      guaranteeFeePayableByBank: '12.345',
      ukefExposure: '1,234.56',
    },
    {
      type: 'Loan',
      facilityStage: 'Conditional',
      hasBeenIssued: false,
      ukefGuaranteeInMonths: '12',
      name: '123456',
      guaranteeFeePayableByBank: '10.8000',
      ukefExposure: '2,469,135.60',
      value: '12345678',
      currencySameAsSupplyContractCurrency: 'true',
      interestMarginFee: '12',
      coveredPercentage: '20',
      minimumQuarterlyFee: '20',
      premiumFrequency: 'Monthly',
      premiumType: 'In advance',
      dayCountBasis: '365',
      currency: {
        text: 'GBP - UK Sterling',
        id: 'GBP',
      },
    },
    {
      type: 'Loan',
      facilityStage: 'Unconditional',
      hasBeenIssued: true,
      'requestedCoverStartDate-day': nowDay,
      'requestedCoverStartDate-month': nowMonth,
      'requestedCoverStartDate-year': nowYear,
      'coverEndDate-day': nowPlusMonthDay,
      'coverEndDate-month': nowPlusMonthMonth,
      'coverEndDate-year': nowPlusMonthYear,
      name: '12345678',
      guaranteeFeePayableByBank: '10.8000',
      ukefExposure: '3,703,703.40',
      value: '12345678',
      currencySameAsSupplyContractCurrency: 'false',
      currency: {
        text: 'AUD - Australian Dollars',
        id: 'AUD',
      },
      conversionRate: '80',
      'conversionRateDate-day': nowMinusDayDay,
      'conversionRateDate-month': nowMinusDayMonth,
      'conversionRateDate-year': nowMinusDayYear,
      disbursementAmount: '10',
      interestMarginFee: '12',
      coveredPercentage: '30',
      minimumQuarterlyFee: '123456',
      premiumFrequency: 'Quarterly',
      premiumType: 'In advance',
      dayCountBasis: '365',
    },
  ],
  eligibility: {
    ...ELIGIBILITY_COMPLETED,
    agentAddressLine1: 'ADDR 1',
    agentAddressLine2: 'Addr 2',
    agentAddressLine3: 'Addr 3',
    agentAddressCountry: 'GBR',
    agentName: 'AGENT NAME',
    agentAddressPostcode: 'CF64 5SH',
    agentAddressTown: 'City',
  },
  submissionDetails: {
    ...SUBMISSION_DETAILS,
    'supplyContractConversionDate-day': nowMinusDayDay,
    'supplyContractConversionDate-month': nowMinusDayMonth,
    'supplyContractConversionDate-year': nowMinusDayYear,
  },
  summary: {
    totalValue: {
      dealInDealCurrency: '10,000',
      dealInGbp: '12,000',
      bondInDealCurrency: '8,000',
      bondInGbp: '16,000',
      loanInDealCurrency: '4,000',
      loanInGbp: '8,000',
    },
  },
  mandatoryCriteria,
};

module.exports = deal;
