{"version":3,"file":"multiFileUpload.js","mappings":"ihCAEA,QAA2C,IAAhCA,YAAYC,gBAAiC,KAAAC,EAuBhDC,EAAYC,SAASC,cAAc,0BACnCC,EAAoD,QAAhDJ,EAAGE,SAASC,cAAc,8BAAsB,IAAAH,OAAA,EAA7CA,EAA+CK,MAE5D,IAAIP,YAAYC,gBAAgB,CAC9BE,UAAAA,EACAK,UAAW,GAAFC,OAAKC,WAAWC,SAASC,KAAI,kBAAAH,OAAiBH,GACvDO,UAAW,GAAFJ,OAAKC,WAAWC,SAASC,KAAI,kBAAAH,OAAiBH,GACvDQ,eApBqB,SAACC,EAAeC,GACrC,GAAIA,EAASC,MAAO,CAClB,IAAMC,EAAW,kLAAHT,OAC0DM,EAAcI,aAAaH,EAASC,OAAM,gBAElHb,SAASC,cAAc,gCAAgCe,OAAOF,EAChE,KAAO,KAC4EG,EAD5EC,EAAAC,EACcnB,SAASoB,iBAAiB,sCAAoC,IAAjF,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAmF,CAApEN,EAAAd,MACRqB,QACP,CAAC,OAAAC,GAAAP,EAAAQ,EAAAD,EAAA,SAAAP,EAAAS,GAAA,CACH,CACF,GAWF,E","sources":["webpack://DTFS_PORTAL/./scripts/multi-file-upload.js"],"sourcesContent":["/* eslint-disable no-new */\n/* eslint-disable no-undef */\nif (typeof MOJFrontend.MultiFileUpload !== 'undefined') {\n  /**\n   * Handles the deletion of a file in the multi-file upload component.\n   * If an error occurs during deletion, displays an error message in the file list.\n   * Otherwise, removes the entire file list from the DOM.\n   *\n   * @param {Object} mojFileUpload - The file upload component instance, expected to have a getErrorHtml method.\n   * @param {Object} response - The response object containing the result of the delete operation.\n   * @param {boolean} [response.error] - Indicates if there was an error during deletion.\n   */\n  const fileDeleteHook = (mojFileUpload, response) => {\n    if (response.error) {\n      const errorRow = `<div class=\"govuk-summary-list__row moj-multi-file-upload__row moj-multi-file-upload__error-row\">\n      <div class=\"govuk-summary-list__value moj-multi-file-upload__message\">${mojFileUpload.getErrorHtml(response.error)}</div></div>`;\n\n      document.querySelector('.moj-multi-file-upload__list').append(errorRow);\n    } else {\n      for (const file of document.querySelectorAll('.moj-multi-file-upload__error-row')) {\n        file.remove();\n      }\n    }\n  };\n\n  const container = document.querySelector('.moj-multi-file-upload');\n  const csrf = document.querySelector(\"input[name='_csrf']\")?.value;\n\n  new MOJFrontend.MultiFileUpload({\n    container,\n    uploadUrl: `${globalThis.location.href}/upload?_csrf=${csrf}`,\n    deleteUrl: `${globalThis.location.href}/delete?_csrf=${csrf}`,\n    fileDeleteHook,\n  });\n}\n"],"names":["MOJFrontend","MultiFileUpload","_document$querySelect","container","document","querySelector","csrf","value","uploadUrl","concat","globalThis","location","href","deleteUrl","fileDeleteHook","mojFileUpload","response","error","errorRow","getErrorHtml","append","_step","_iterator","_createForOfIteratorHelper","querySelectorAll","s","n","done","remove","err","e","f"],"ignoreList":[],"sourceRoot":""}