{"version":3,"file":"ukefexposure.js","mappings":"oEACA,IAAIA,EAAmBC,MAAQA,KAAKD,kBAAqBE,OAAOC,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOP,OAAOQ,yBAAyBL,EAAGC,GACzCG,KAAS,QAASA,GAAQJ,EAAEM,WAAaF,EAAKG,UAAYH,EAAKI,gBAClEJ,EAAO,CAAEK,YAAY,EAAMC,IAAK,WAAa,OAAOV,EAAEC,EAAI,IAE5DJ,OAAOc,eAAeZ,EAAGG,EAAIE,EAChC,EAAI,SAAUL,EAAGC,EAAGC,EAAGC,QACTC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACb,GACGW,EAAgBhB,MAAQA,KAAKgB,cAAiB,SAASZ,EAAGa,GAC1D,IAAK,IAAIC,KAAKd,EAAa,YAANc,GAAoBjB,OAAOkB,UAAUC,eAAeC,KAAKJ,EAASC,IAAInB,EAAgBkB,EAASb,EAAGc,EAC3H,EACAjB,OAAOc,eAAeE,EAAS,aAAc,CAAEK,OAAO,IACtDN,EAAa,EAAQ,KAAqBC,E,oBCf1ChB,OAAOc,eAAeE,EAAS,aAAc,CAAEK,OAAO,IACtDL,EAAQM,mBAAgB,EAYxBN,EAAQM,cALeC,IACnB,IAAIC,EACJ,MAAMC,EAAWF,EAAOG,WAAWC,MAAM,KAAK,GAC9C,OAAsF,QAA9EH,EAAKC,aAA2C,EAASA,EAASG,cAA2B,IAAPJ,EAAgBA,EAAK,E,GCXnHK,EAA2B,CAAC,E,MAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBzB,IAAjB0B,EACH,OAAOA,EAAahB,QAGrB,IAAIiB,EAASJ,EAAyBE,GAAY,CAGjDf,QAAS,CAAC,GAOX,OAHAkB,EAAoBH,GAAUX,KAAKa,EAAOjB,QAASiB,EAAQA,EAAOjB,QAASc,GAGpEG,EAAOjB,OACf,C,MChBMmB,EAAqBC,SAASC,eAAe,iBAC7CC,EAAyBF,SAASC,eAAe,qBACjDE,EAAoBH,SAASC,eAAe,gBAElD,SAASG,IACP,IAEMC,EAFQN,EAAmBd,MAAMqB,QAAQ,KAAM,KAExBJ,EAAuBjB,MAAQ,KAE5D,GCfuB,SAACA,GACxB,QAAqB,iBAAVA,GAAsBA,IAAUsB,OAAOtB,KAAUsB,OAAOC,SAASvB,GAI9E,CDUMwB,CAAUJ,GAAc,CAC1B,IAAIK,EAGFA,GAFoBxB,EAAAA,EAAAA,eAAcmB,GAChB,ECXG,SAACpB,EAAO0B,GACjC,IAAIC,EAAgB3B,EAChB4B,EAAIF,EASR,OAPKA,IACHE,EAAI,GAGND,GAAaE,KAAAC,IAAI,GAAMF,GACvBD,EAAgBE,KAAKE,MAAMJ,GAC3BA,EAAaE,KAAAC,IAAI,GAAMF,EAEzB,CDAeI,CAAYZ,EAAa,GAEzBA,EAGX,IAAMa,EAAkBR,EAAOS,eAAe,KAAM,CAAEC,sBAAuB,IAE7EjB,EAAkBlB,MAAQiC,CAC5B,CACF,CAEInB,GAAsBG,GACxB,CAACH,EAAoBG,GAAwBmB,QAAQ,SAACC,GACpDA,EAAQC,iBAAiB,OAAQ,WAC/BnB,GACF,EACF,I","sources":["webpack://DTFS_PORTAL/../libs/common/src/helpers/frontend/index.ts","webpack://DTFS_PORTAL/../libs/common/src/helpers/frontend/decimals-count.ts","webpack://DTFS_PORTAL/webpack/bootstrap","webpack://DTFS_PORTAL/./scripts/ukef-exposure.js","webpack://DTFS_PORTAL/./scripts/number.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./decimals-count\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decimalsCount = void 0;\n/**\n * calculate the number of decimal places in a number\n * returns 0 if no decimal places\n * @param number - provided number\n * @returns decimal count\n */\nconst decimalsCount = (number) => {\n    var _a;\n    const decimals = number.toString().split('.')[1];\n    return (_a = decimals === null || decimals === void 0 ? void 0 : decimals.length) !== null && _a !== void 0 ? _a : 0;\n};\nexports.decimalsCount = decimalsCount;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { decimalsCount } from '@ukef/dtfs2-common/frontend';\nimport { isNumeric, roundNumber } from './number';\n/*\n      calculate UKEF Exposure from Facility Value and Covered Percentage\n    */\n\nconst facilityValueInput = document.getElementById('facilityValue');\nconst coveredPercentageInput = document.getElementById('coveredPercentage');\nconst ukefExposureInput = document.getElementById('ukefExposure');\n\nfunction calculateUkefExposure() {\n  const value = facilityValueInput.value.replace(/,/g, ''); // remove commas\n\n  const calculation = value * (coveredPercentageInput.value / 100);\n\n  if (isNumeric(calculation)) {\n    let result;\n    const totalDecimals = decimalsCount(calculation);\n    if (totalDecimals > 2) {\n      result = roundNumber(calculation, 2);\n    } else {\n      result = calculation;\n    }\n\n    const formattedResult = result.toLocaleString('en', { minimumFractionDigits: 2 });\n\n    ukefExposureInput.value = formattedResult;\n  }\n}\n\nif (facilityValueInput && coveredPercentageInput) {\n  [facilityValueInput, coveredPercentageInput].forEach((element) => {\n    element.addEventListener('blur', () => {\n      calculateUkefExposure();\n    });\n  });\n}\n","export const isNumeric = (value) => {\n  if (typeof value === 'number' && value === Number(value) && Number.isFinite(value)) {\n    return true;\n  }\n  return false;\n};\n\nexport const roundNumber = (value, digits) => {\n  let modifiedValue = value;\n  let d = digits;\n\n  if (!digits) {\n    d = 2;\n  }\n\n  modifiedValue *= 10 ** d;\n  modifiedValue = Math.round(modifiedValue);\n  modifiedValue /= 10 ** d;\n  return modifiedValue;\n};\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","decimalsCount","number","_a","decimals","toString","split","length","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","facilityValueInput","document","getElementById","coveredPercentageInput","ukefExposureInput","calculateUkefExposure","calculation","replace","Number","isFinite","isNumeric","result","digits","modifiedValue","d","Math","pow","round","roundNumber","formattedResult","toLocaleString","minimumFractionDigits","forEach","element","addEventListener"],"sourceRoot":""}