const facilityReducer = require('../reducers/facility');
const { findOneFacility } = require('../../v1/controllers/facility.controller');
const { findOneDeal } = require('../../v1/controllers/deal.controller');

require('dotenv').config();

const queryFacility = async ({ _id }) => {
  const facility = await findOneFacility(_id);
<<<<<<< HEAD

  const { associatedDealId } = facility;

  const deal = await findOneDeal(associatedDealId);

  const dealDetails = deal.dealSnapshot.details;

  return facilityReducer(facility, dealDetails);
=======
  console.log(1);
  return facilityReducer(facility);
>>>>>>> c7e2b373... dtfs2-2626 funcationality for editable parties pages - api tests
};

module.exports = queryFacility;
