{% import './address-fields.njk' as address %}
{% import './input-companies-house-reg-number.njk' as companiesHouse %}
{% from "govuk/components/input/macro.njk" import govukInput %}

{% macro render(opts) %}
  {% set deal = opts.deal %}
  {% set validationErrors = opts.validationErrors %}

  {{ companiesHouse.input({
    deal: deal,
    id: 'supplierCompaniesHouseRegistrationNumber',
    label: 'UK Supplierâ€™s Companies House registration number, if UK registered (optional)'
  }) }}

  <div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="150">
    {{ govukInput({
      label: {
        html: 'Supplier name <span id="supplierName-info" class="govuk-hint govuk-character-count__message" aria-live="polite">You can enter up to 150 characters</span>'
      },
      classes: "govuk-!-width-one-half",
      id: 'supplierName',
      name: 'supplierName',
      value: deal.submissionDetails.supplierName,
      attributes: {
        "data-cy": "supplierName"
      },
      errorMessage: validationErrors.errorList.supplierName
    }) }}
  </div>

  {{ address.fields(
    deal = deal,
    id = "supplier-address",
    legend = "Supplier address",
    countries = countries,
    hint = "This should be the supplier's principal place of business"
  )}}
{% endmacro %}
