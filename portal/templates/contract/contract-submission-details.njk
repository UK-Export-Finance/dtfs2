{% extends "index.njk" %}
{% import '_macros/contract-details.njk' as contractDetails %}
{% import '_macros/contract-tabs.njk' as contractTabs %}
{% import '_macros/mandatory-criteria-box.njk' as mandatoryCriteriaBox %}
{% import '_macros/eligibility-criteria-answers.njk' as eligibilityCriteria %}
{% import '_macros/eligibility-documentation-preview.njk' as supportingDocumentation %}
{% import 'contract/about/components/submission-details.njk' as submissionDetails %}
{% import 'bond/_macros/bond-submission-details.njk' as bondSubmissionDetails %}

{% block pageTitle %}Preview - {{ deal.details.bankSupplyContractName }}{% endblock %}

{% block content %}

  <h1 data-cy="heading" class="govuk-heading-l">Supply Contract name: <span class="govuk-body govuk-!-font-size-24">{{ deal.details.bankSupplyContractName }}</span></h1>

  <div class="govuk-tabs" data-module="govuk-tabs">
    <h2 class="govuk-tabs__title">
      Contents
    </h2>

    {{ contractTabs.nav(selected = 'submission-details', id = deal._id) }}

    <section class="govuk-tabs__panel" id="submission-details">
      {{ contractDetails.table(deal.details) }}

      <hr class="govuk-section-break govuk-section-break--visible govuk-!-margin-bottom-8">

      <h2 class="govuk-heading-l">
        General deal information
        <a class="govuk-link govuk-!-font-size-16 govuk-!-font-weight-regular" href="#">edit</a>
      </h2>

      {{ submissionDetails.general(contract = contract) }}

      <h3 class="govuk-heading-l">
        Confirm eligibility
        <a class="govuk-link govuk-!-font-size-16 govuk-!-font-weight-regular" href="#">edit</a>
      </h3>

      {{ mandatoryCriteriaBox.success(mandatoryCriteria)}}

      {{ eligibilityCriteria.answers(deal.submissionDetails.eligibilityCriteria)}}

      {{ supportingDocumentation.answers(deal.submissionDetails.supportingDocumentation)}}

      <h3 class="govuk-heading-l">
        Bond
        <a class="govuk-link govuk-!-font-size-16 govuk-!-font-weight-regular" href="#">edit</a>
      </h3>

      {{ bondSubmissionDetails.render(bondDetails = deal.submissionDetails.bond)}}

      <p class="govuk-body"><a href="/contract/{{ _id }}" class="govuk-link">Back to Supply Contract page</a></p>

    </section>

  </div>

{% endblock %}
