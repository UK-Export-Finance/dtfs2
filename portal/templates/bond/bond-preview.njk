{% extends "index.njk" %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% import 'contract/components/forms-task-list.njk' as formsTaskList %}
{% import './_macros/bond-submission-details.njk' as bondSubmissionDetails %}

{% block pageTitle %}Bond Preview{% endblock %}

{% block content %}

  {% if validationErrors.count %}
    {{
      govukErrorSummary({
        titleText: "There is a problem",
        errorList: validationErrors.summary
      })
    }}
  {% endif %}

  {{ formsTaskList.render({
    title: 'Bond',
    dealId: dealId,
    completedForms: completedForms,
    facilityName: 'bond',
    facilityId: bond._id
  })}}

  {% include "_partials/print-button.njk" %}
    
  {{ bondSubmissionDetails.render(bond, user)}}

  <p class="govuk-body"><a class="govuk-link" href="/contract/{{ dealId }}" data-cy="save-go-back-button">Save and go back to deal</a></p>

{% endblock %}
