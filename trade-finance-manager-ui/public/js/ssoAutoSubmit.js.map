{"version":3,"file":"ssoAutoSubmit.js","mappings":"6BAYsBA,EAAUC,EAX1BC,EAAUC,SAASC,eAAe,6BAwBpCF,IAbkBF,EAaMK,OAAOC,SAASN,SAbZC,EAasBE,SAASF,SAX5C,cAAbD,GAI2D,IAA3DC,EAASM,QAAQ,wCAQrBL,EAAQM,U","sources":["webpack://DTFS_TFM/./scripts/sso-auto-submit.js"],"sourcesContent":["// TFM UI - SSO support to work around SameSite=Strict\nconst ssoForm = document.getElementById('acceptExternalSsoPostForm');\n\n/**\n * safeReferrer\n * Verify referrer, allow empty referrer for localhost.\n * 1) If host is localhost then referrer will be missing, no need to check it\n * 2) Return error message if referrer is missing or it is not from SSO authority\n * @param {string} hostname: website domain\n * @param {string} referrer: from where user is comming from\n * @returns {Boolean} True if form should auto submit.\n */\nconst safeReferrer = (hostname, referrer) => {\n  // Referer can be empty on localhost, because of policy no-referrer-when-downgrade.\n  if (hostname === 'localhost') {\n    return true;\n  }\n\n  if (referrer.indexOf('https://login.microsoftonline.com/') === 0) {\n    return true;\n  }\n\n  return false\n}\n\nif (ssoForm && safeReferrer(window.location.hostname, document.referrer)) {\n  ssoForm.submit();\n}\n"],"names":["hostname","referrer","ssoForm","document","getElementById","window","location","indexOf","submit"],"sourceRoot":""}