{"version":3,"file":"enableFindReportsByYearDropdown.js","mappings":"sCAcwC,MACpC,MAAMA,EAAmCC,SAASC,cAAc,+CAChE,IAAKF,EACD,OAEJ,MAAMG,EAAYF,SAASC,cAAc,sDACzC,IAAKC,EACD,OAEJA,EAAUC,UAAW,EACFJ,EAAiCK,iBAAiB,6BAC1DC,SAASC,IAChB,MACMC,EAAa,oBADJD,EAAUE,QAErBF,EAAUG,SACVP,EAAUQ,aAAa,OAAQH,GAEnCD,EAAUK,iBAAiB,SAAS,KAChCT,EAAUC,UAAW,EACrBD,EAAUQ,aAAa,OAAQH,EAAW,GAC5C,GACJ,EAENK,I","sources":["webpack://DTFS_TFM/./scripts/enable-find-reports-by-year-dropdown.ts"],"sourcesContent":["\"use strict\";\n/**\n * Enables the dynamic dropdown for the find utilisation reports\n * by year page\n *\n * This dropdown is attached to the year input on the page. When\n * a bank is selected from the list of radios, we want to update\n * the datalist attached to the input element so that it lines\n * up with the selected bank. This is done by adding an event\n * listener to the bank radio which sets the input \"list\"\n * attribute to the corresponding datalist id, causing the\n * dropdown displayed beneath the input to display the years\n * where the selected bank has an uploaded report.\n */\nconst enableFindReportsByYearDropdown = () => {\n    const findUtilisationReportsByYearForm = document.querySelector('form#find-utilisation-reports-by-year--form');\n    if (!findUtilisationReportsByYearForm) {\n        return;\n    }\n    const yearInput = document.querySelector('input#find-utilisation-reports-by-year--year-input');\n    if (!yearInput) {\n        return;\n    }\n    yearInput.disabled = true;\n    const bankRadios = findUtilisationReportsByYearForm.querySelectorAll('input.govuk-radios__input');\n    bankRadios.forEach((bankRadio) => {\n        const bankId = bankRadio.value;\n        const dataListId = `datalist--bankId-${bankId}`;\n        if (bankRadio.checked) {\n            yearInput.setAttribute('list', dataListId);\n        }\n        bankRadio.addEventListener('click', () => {\n            yearInput.disabled = false;\n            yearInput.setAttribute('list', dataListId);\n        });\n    });\n};\nenableFindReportsByYearDropdown();\n"],"names":["findUtilisationReportsByYearForm","document","querySelector","yearInput","disabled","querySelectorAll","forEach","bankRadio","dataListId","value","checked","setAttribute","addEventListener","enableFindReportsByYearDropdown"],"sourceRoot":""}