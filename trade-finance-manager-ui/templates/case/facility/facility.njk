{% extends "case/case.njk" %}
{% from "govuk/components/tag/macro.njk" import govukTag %}

{% block sub_content %}

{# TODO - component test #}

  <div>

    <h3 class="govuk-heading-l">{{ facility.facilityType }}</h3>

    <div class="govuk-grid-row" data-cy="facility-overview">

      <div class="govuk-grid-column-full">

        <h3 class="govuk-heading-l">Overview</h3>

        <div class="govuk-grid-row">

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Product</h4>
            </div>

            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="facility-product">{{ facility.facilityProduct.name | dashIfEmpty}}</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Type</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="facility-type">{{ facility.facilityType | dashIfEmpty }}</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Facility stage</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              {{govukTag({
                text: facility.facilityStage,
                classes: "govuk-tag--blue",
                attributes: {
                  'data-cy': 'facility-stage'
                }
              })}}
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Bank facility reference</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="bank-facility-reference">{{ facility.bankFacilityReference | dashIfEmpty }}</p>
            </div>
          </div>

        </div>

      </div>
    </div>

    <div class="govuk-grid-row separator-line" data-cy="facility-value-and-exposure">

      <div class="govuk-grid-column-full">

        <h3 class="govuk-heading-l">Value and exposure</h3>

        <div class="govuk-grid-row">

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Value (export currency)</h4>
            </div>

            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="facility-value-export-currency">{{ facility.facilityValueExportCurrency | dashIfEmpty}}</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Exchange rate</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s">-</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Value (GBP)</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
            <p class="govuk-body-s" data-cy="facility-value-gbp">{{ facility.facilityValue | dashIfEmpty }}</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">UKEF cover</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="facility-ukef-cover">{{ facility.coveredPercentage | dashIfEmpty }}</p>
            </div>
          </div>

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s ukef-grey-bg-row-column-left-text">Maximum UKEF exposure</h4>
            </div>
            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s ukef-grey-bg-row-column-right-text" data-cy="facility-maximum-ukef-exposure">{{ facility.ukefExposure | dashIfEmpty }}</p>
            </div>
          </div>

        </div>

      </div>
    </div>

    <div class="govuk-grid-row separator-line" data-cy="facility-pricing-and-risk">

      <div class="govuk-grid-column-full">

        <h3 class="govuk-heading-l">Pricing and risk</h3>

        <div class="govuk-grid-row">

          <div class="govuk-grid-row">
            <div class="govuk-grid-column-one-quarter">
              <h4 class="govuk-heading-s">Guarantee fee payable to UKEF</h4>
            </div>

            <div class="govuk-grid-column-three-quarters">
              <p class="govuk-body-s" data-cy="facility-guarantee-fee-payable-to-ukef">{{ facility.guaranteeFeePayableToUkef | dashIfEmpty}}</p>
            </div>
          </div>

        </div>

      </div>
    </div>

  </div>

{% endblock %}


