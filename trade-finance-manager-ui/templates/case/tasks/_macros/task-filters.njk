{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% macro render(params) %}
  {% set tasks = params.tasks %}
  {% set selectedTaskFilter = params.selectedTaskFilter %}

  <section id="task-filters" data-cy="task-filters">

    <form method="post" autocomplete="off">

      {{govukRadios({
        classes: "govuk-radios--inline",
        idPrefix: "filterType",
        name: "filterType",
        fieldset: {
          legend: {
            text: "Fieldset todo..."
          }
        },
        items: [
          {
            value: "user",
            text: "Your tasks",
            checked: selectedTaskFilter === 'user',
            attributes: {
              'data-cy': 'task-radio-button-your-tasks'
            }
          },
          {
            value: "team",
            text: "Your teamâ€™s tasks",
            checked: selectedTaskFilter === 'team',
            attributes: {
              'data-cy': 'task-radio-button-your-team'
            }
          },
          {
            value: "all",
            text: "All tasks",
            checked: selectedTaskFilter === 'all',
            attributes: {
              'data-cy': 'task-radio-button-all'
            }
          }
        ]
      })}}

      {{ govukButton({
        text: 'Apply filters',
        classes: 'js-hidden',
        attributes: {
          'data-cy': 'submit-button'
        }
      }) }}

    </form>

  </section>

  <script>
    var element = document.getElementById('tasks-filters');
    element.className = 'js-enabled';
  </script>


{% endmacro %}
