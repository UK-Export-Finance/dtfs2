
{% from "moj/components/sub-navigation/macro.njk" import mojSubNavigation %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% import './_macros/deals-table.njk' as dealsTable %}

{% extends "index.njk" %}
{% set primary = 'deals' %}

{% block pageTitle %}
  Trade Finance Manager
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      <h2 class="header-label">{{ heading }}</h2>
    </div>

    <div class="govuk-grid-column-one-quarter govuk-!-padding-top-7">

    {# TODO: search button aria label #}
      <form method="post" autocomplete="off" class="ukef-search-form">
        {{ govukInput({
          id: 'search',
          name: 'search',
          attributes: {
            'aria-label': 'Search deals'
          },
          value: submittedValue
        }) }}

        {{ govukButton({
          text: '*',
          classes: 'govuk-!-margin-bottom-0',
          attributes: {
            'data-cy': 'submit-button'
          }
        }) }}
      </form>

    </div>
  </div>


  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        {% set componentData = {
        deals: deals,
        user: user
      } %}

      {{ dealsTable.render(componentData) }}

    </div>
  </div>
{% endblock %}

{% block sub_content %}{% endblock %}
